<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Fam√≠lia 100K ‚Äì Painel do Don</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="robots" content="noindex, nofollow" />

  <style>
    * {
      box-sizing: border-box;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }

    body {
      margin: 0;
      padding: 0;
      background: radial-gradient(circle at top, #1f2933 0, #020617 45%, #02040a 100%);
      color: #f9fafb;
    }

    .container {
      max-width: 960px;
      margin: 0 auto;
      padding: 24px 16px 40px;
    }

    header {
      margin-bottom: 24px;
      text-align: center;
    }

    header h1 {
      margin: 0;
      font-size: 2.4rem;
      font-weight: 800;
      letter-spacing: 0.08em;
      text-transform: uppercase;
    }

    header h1 span.gold {
      color: #fbbf24;
    }

    header p {
      margin: 8px 0 0;
      opacity: 0.85;
      font-size: 0.95rem;
    }

    .tagline {
      margin-top: 8px;
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 0.14em;
      opacity: 0.7;
    }

    .cards-grid {
      display: grid;
      grid-template-columns: minmax(0, 3fr);
      gap: 16px;
    }

    @media (min-width: 900px) {
      .cards-grid {
        grid-template-columns: minmax(0, 3.3fr) minmax(0, 2.1fr);
      }
    }

    .card {
      background: rgba(10, 15, 25, 0.96);
      border-radius: 18px;
      padding: 18px 16px 16px;
      border: 1px solid rgba(148, 163, 184, 0.28);
      box-shadow: 0 18px 40px rgba(0,0,0,0.7);
      backdrop-filter: blur(14px);
    }

    .card h2 {
      margin: 0 0 10px;
      font-size: 1.1rem;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .card h2 span.emoji {
      font-size: 1.2rem;
    }

    label {
      font-size: 0.8rem;
      opacity: 0.9;
      display: block;
      margin-bottom: 4px;
    }

    input[type="number"],
    input[type="text"] {
      width: 100%;
      border-radius: 10px;
      border: 1px solid rgba(148, 163, 184, 0.4);
      padding: 8px 10px;
      background: #020617;
      color: #f9fafb;
      font-size: 0.95rem;
      outline: none;
    }

    input[type="text"]::placeholder {
      color: rgba(148, 163, 184, 0.7);
    }

    .row {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      margin-bottom: 10px;
    }

    .row .col {
      flex: 1 1 200px;
    }

    .helper-text {
      font-size: 0.8rem;
      opacity: 0.7;
      margin-top: 4px;
    }

    .progress-wrapper {
      margin-top: 10px;
    }

    .progress-label {
      display: flex;
      justify-content: space-between;
      font-size: 0.8rem;
      opacity: 0.9;
      margin-bottom: 4px;
    }

    .progress-bar-bg {
      width: 100%;
      height: 14px;
      border-radius: 999px;
      background: linear-gradient(90deg, #020617, #020617);
      overflow: hidden;
      border: 1px solid rgba(148, 163, 184, 0.45);
    }

    .progress-bar-fill {
      height: 100%;
      width: 0%;
      border-radius: 999px;
      background: linear-gradient(90deg, #b91c1c, #f97316, #fbbf24);
      transition: width 0.3s ease-out;
    }

    .level-chip {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 4px 10px;
      border-radius: 999px;
      background: linear-gradient(90deg, rgba(148, 163, 184,0.15), rgba(251, 191, 36, 0.12));
      border: 1px solid rgba(251, 191, 36, 0.7);
      font-size: 0.78rem;
      margin-top: 8px;
    }

    .level-chip span.dot {
      width: 8px;
      height: 8px;
      border-radius: 999px;
      background: #fbbf24;
      box-shadow: 0 0 10px rgba(251,191,36,0.9);
    }

    .sub-label {
      font-size: 0.76rem;
      opacity: 0.75;
      margin-top: 2px;
    }

    .save-feedback {
      margin-top: 6px;
      font-size: 0.78rem;
      opacity: 0;
      transition: opacity 0.2s ease-out;
    }

    .save-feedback.visible {
      opacity: 0.9;
    }

    /* Checkpoints */
    .checkpoints-list {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(130px, 1fr));
      gap: 8px;
      margin-top: 8px;
    }

    .checkpoint {
      border-radius: 12px;
      padding: 8px 10px;
      background: rgba(15,23,42,0.96);
      border: 1px solid rgba(148, 163, 184, 0.55);
      font-size: 0.78rem;
    }

    .checkpoint-title {
      font-weight: 600;
      margin-bottom: 4px;
      font-size: 0.8rem;
    }

    .checkpoint-status {
      font-size: 0.75rem;
      display: flex;
      align-items: center;
      gap: 4px;
    }

    .cp-unlocked {
      border-color: rgba(34,197,94,0.95);
      box-shadow: 0 0 12px rgba(22,163,74,0.38);
    }

    .cp-unlocked .checkpoint-status {
      color: #4ade80;
    }

    .cp-next {
      border-color: rgba(251,191,36,0.95);
      box-shadow: 0 0 12px rgba(251,191,36,0.3);
    }

    .cp-next .checkpoint-status {
      color: #facc15;
    }

    .cp-locked .checkpoint-status {
      color: rgba(148,163,184,0.85);
    }

    /* Miss√µes */
    .missions-list {
      display: flex;
      flex-direction: column;
      gap: 8px;
      margin-top: 4px;
    }

    .mission-row {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 6px 8px;
      border-radius: 10px;
      background: rgba(15,23,42,0.8);
      border: 1px solid rgba(148,163,184,0.3);
    }

    .mission-row input[type="checkbox"] {
      width: 16px;
      height: 16px;
      cursor: pointer;
    }

    .mission-row input[type="text"] {
      font-size: 0.85rem;
      padding: 6px 8px;
      border-radius: 8px;
    }

    .mission-row.done {
      border-color: rgba(34,197,94,0.9);
      background: rgba(5,46,22,0.95);
      opacity: 0.97;
    }

    .mission-row.done input[type="text"] {
      text-decoration: line-through;
      opacity: 0.9;
    }

    .btn-row {
      margin-top: 10px;
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }

    button {
      border: none;
      padding: 8px 12px;
      border-radius: 999px;
      background: linear-gradient(90deg, #b91c1c, #f97316);
      color: #f9fafb;
      font-size: 0.82rem;
      font-weight: 600;
      cursor: pointer;
      transition: transform 0.1s ease, box-shadow 0.1s ease, opacity 0.1s ease;
      box-shadow: 0 10px 25px rgba(0,0,0,0.7);
    }

    button.secondary {
      background: rgba(15,23,42,0.9);
      border: 1px solid rgba(148,163,184,0.7);
      box-shadow: 0 4px 10px rgba(0,0,0,0.6);
    }

    button:active {
      transform: translateY(1px) scale(0.99);
      box-shadow: 0 4px 12px rgba(0,0,0,0.7);
      opacity: 0.95;
    }

    footer {
      margin-top: 22px;
      font-size: 0.78rem;
      opacity: 0.6;
      text-align: center;
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1><span class="gold">Fam√≠lia</span> 100K</h1>
      <p>Painel reservado do Don para acompanhar a renda da fam√≠lia at√© os R$ 100.000 por m√™s.</p>
      <div class="tagline">ningu√©m fora da fam√≠lia v√™ isso</div>
    </header>

    <div class="cards-grid">
      <!-- Card principal: status -->
      <section class="card">
        <h2><span class="emoji">ü¶Ö</span>Status da fam√≠lia</h2>

        <div class="row">
          <div class="col">
            <label for="targetIncome">Meta de renda da fam√≠lia (R$/m√™s)</label>
            <input type="number" id="targetIncome" min="0" step="1000" />
            <div class="helper-text">Por padr√£o: 100000. A cifra que coloca o Don em outro patamar.</div>
          </div>

          <div class="col">
            <label for="currentIncome">Tributo atual da fam√≠lia (R$/m√™s)</label>
            <input type="number" id="currentIncome" min="0" step="500" />
            <div class="helper-text">Tudo que entra limpo hoje. Sem maquiagem, s√≥ a verdade pro Don.</div>
          </div>
        </div>

        <div class="progress-wrapper">
          <div class="progress-label">
            <span id="progressText">0% do caminho</span>
            <span id="progressValues">R$ 0 / R$ 100.000</span>
          </div>
          <div class="progress-bar-bg">
            <div class="progress-bar-fill" id="progressBarMain"></div>
          </div>
        </div>

        <div class="level-chip" id="levelChip">
          <span class="dot"></span>
          <span id="levelName">Soldado em in√≠cio de carreira</span>
        </div>
        <div class="sub-label" id="levelDescription">
          Ainda √© cedo. Voc√™ est√° montando a base, escolhendo suas guerras e alian√ßas.
        </div>

        <div id="saveFeedback" class="save-feedback"></div>

        <div class="btn-row">
          <button id="saveFinance">Salvar progresso</button>
          <button id="resetFinance" class="secondary">Zerar registros</button>
        </div>
      </section>

      <!-- Card: miss√µes do m√™s -->
      <section class="card">
        <h2><span class="emoji">üéØ</span>Ordens do Don ‚Äì m√™s</h2>
        <p class="helper-text">
          Tr√™s ordens que, se cumpridas este m√™s, aumentam o respeito da fam√≠lia e aproximam do pr√≥ximo n√≠vel.
        </p>

        <div class="missions-list" id="missionsList">
          <!-- preenchido via JS -->
        </div>

        <div id="missionsFeedback" class="save-feedback"></div>

        <div class="btn-row">
          <button id="saveMissions">Registrar ordens</button>
          <button id="resetMissions" class="secondary">Limpar tudo</button>
        </div>
      </section>
    </div>

    <!-- Card full width: checkpoints -->
    <section class="card" style="margin-top:16px;">
      <h2><span class="emoji">üìà</span>Checkpoints de respeito na pra√ßa</h2>
      <p class="helper-text">
        Cada cifra √© um ponto de n√£o-retorno. Passou dali, o padr√£o de vida e de jogo do Don n√£o volta mais para tr√°s.
      </p>

      <div class="checkpoints-list" id="checkpointsList">
        <!-- preenchido via JS -->
      </div>
    </section>

    <footer>
      Este painel existe para que o Brian de hoje pense como Don da pr√≥pria fam√≠lia de 100K/m√™s. O resto do mundo chama de sorte; aqui dentro, de estrat√©gia.
    </footer>
  </div>

  <script>
    const STORAGE_KEYS = {
      targetIncome: "brian_mafia_target_income_v1",
      currentIncome: "brian_mafia_current_income_v1",
      missions: "brian_mafia_monthly_missions_v1"
    };

    const checkpointValues = [5000, 10000, 20000, 40000, 60000, 80000, 100000];

    function formatCurrency(value) {
      if (isNaN(value)) value = 0;
      return value.toLocaleString("pt-BR", {
        style: "currency",
        currency: "BRL",
        maximumFractionDigits: 0
      });
    }

    function clamp(value, min, max) {
      return Math.min(Math.max(value, min), max);
    }

    function getLevel(percent) {
      if (percent >= 100) {
        return {
          name: "Don da fam√≠lia 100K",
          description: "Voc√™ assumiu o topo. Agora o jogo √© proteger, simplificar e multiplicar sem chamar aten√ß√£o errada."
        };
      } else if (percent >= 75) {
        return {
          name: "Underboss em opera√ß√£o",
          description: "J√° existe estrutura, fluxo de caixa e respeito. As decis√µes agora s√£o cir√∫rgicas."
        };
      } else if (percent >= 50) {
        return {
          name: "Consigliere em ascens√£o",
          description: "Voc√™ entende o jogo, enxerga os riscos e sabe onde n√£o mexer. Falta volume."
        };
      } else if (percent >= 25) {
        return {
          name: "Capo com territ√≥rio",
          description: "Voc√™ domina um peda√ßo da pra√ßa. O foco √© aumentar margem e cortar ru√≠do."
        };
      } else if (percent > 0) {
        return {
          name: "Soldado em movimento",
          description: "Voc√™ saiu da teoria e entrou em campo. Sua arma √© consist√™ncia, n√£o pressa."
        };
      } else {
        return {
          name: "Soldado em in√≠cio de carreira",
          description: "Ainda √© cedo. Voc√™ est√° montando a base, escolhendo suas guerras e alian√ßas."
        };
      }
    }

    function showFeedback(elementId, message) {
      const el = document.getElementById(elementId);
      if (!el) return;
      el.textContent = message;
      el.classList.add("visible");
      setTimeout(() => {
        el.classList.remove("visible");
      }, 2000);
    }

    function updateFinanceUI() {
      const targetIncome = Number(localStorage.getItem(STORAGE_KEYS.targetIncome) || 100000);
      const currentIncome = Number(localStorage.getItem(STORAGE_KEYS.currentIncome) || 0);

      const targetInput = document.getElementById("targetIncome");
      const currentInput = document.getElementById("currentIncome");

      targetInput.value = targetIncome;
      currentInput.value = currentIncome;

      let percent = 0;
      if (targetIncome > 0) {
        percent = (currentIncome / targetIncome) * 100;
      }
      percent = clamp(percent, 0, 999);

      document.getElementById("progressBarMain").style.width = percent + "%";
      document.getElementById("progressText").textContent = percent.toFixed(1) + "% do caminho";

      document.getElementById("progressValues").textContent =
        formatCurrency(currentIncome) + " / " + formatCurrency(targetIncome);

      const level = getLevel(percent);
      document.getElementById("levelName").textContent = level.name;
      document.getElementById("levelDescription").textContent = level.description;

      updateCheckpointsUI(currentIncome);
    }

    function saveFinance() {
      const targetIncome = Number(document.getElementById("targetIncome").value || 0);
      const currentIncome = Number(document.getElementById("currentIncome").value || 0);

      localStorage.setItem(STORAGE_KEYS.targetIncome, String(targetIncome));
      localStorage.setItem(STORAGE_KEYS.currentIncome, String(currentIncome));
      updateFinanceUI();
      showFeedback("saveFeedback", "Tributo registrado. O Don sabe onde est√°.");
    }

    function resetFinance() {
      localStorage.removeItem(STORAGE_KEYS.targetIncome);
      localStorage.removeItem(STORAGE_KEYS.currentIncome);
      updateFinanceUI();
      showFeedback("saveFeedback", "Registros apagados. O livro da fam√≠lia foi limpo.");
    }

    // Checkpoints
    function buildCheckpoints() {
      const container = document.getElementById("checkpointsList");
      container.innerHTML = "";

      checkpointValues.forEach(value => {
        const div = document.createElement("div");
        div.className = "checkpoint cp-locked";
        div.dataset.value = String(value);

        const title = document.createElement("div");
        title.className = "checkpoint-title";
        title.textContent = formatCurrency(value) + "/m√™s";

        const status = document.createElement("div");
        status.className = "checkpoint-status";
        status.innerHTML = `<span>üîí</span><span>Aguardando respeito</span>`;

        div.appendChild(title);
        div.appendChild(status);
        container.appendChild(div);
      });
    }

    function updateCheckpointsUI(currentIncome) {
      const nodes = document.querySelectorAll(".checkpoint");
      let firstLockedFound = false;

      nodes.forEach(node => {
        const value = Number(node.dataset.value);
        const status = node.querySelector(".checkpoint-status");
        node.classList.remove("cp-unlocked", "cp-next", "cp-locked");

        if (currentIncome >= value) {
          node.classList.add("cp-unlocked");
          status.innerHTML = `<span>‚úÖ</span><span>Respeito consolidado</span>`;
        } else if (!firstLockedFound) {
          node.classList.add("cp-next");
          status.innerHTML = `<span>‚≠ê</span><span>Pr√≥ximo territ√≥rio</span>`;
          firstLockedFound = true;
        } else {
          node.classList.add("cp-locked");
          status.innerHTML = `<span>üîí</span><span>Ainda fora do alcance</span>`;
        }
      });
    }

    // Miss√µes do m√™s
    function defaultMissions() {
      return [
        { text: "", done: false },
        { text: "", done: false },
        { text: "", done: false },
      ];
    }

    function loadMissions() {
      try {
        const raw = localStorage.getItem(STORAGE_KEYS.missions);
        if (!raw) return defaultMissions();
        const parsed = JSON.parse(raw);
        if (!Array.isArray(parsed) || parsed.length !== 3) return defaultMissions();
        return parsed.map(m => ({
          text: typeof m.text === "string" ? m.text : "",
          done: !!m.done
        }));
      } catch {
        return defaultMissions();
      }
    }

    function renderMissions() {
      const container = document.getElementById("missionsList");
      container.innerHTML = "";
      const missions = loadMissions();

      missions.forEach((mission, index) => {
        const row = document.createElement("div");
        row.className = "mission-row" + (mission.done ? " done" : "");
        row.dataset.index = String(index);

        const checkbox = document.createElement("input");
        checkbox.type = "checkbox";
        checkbox.checked = mission.done;

        const input = document.createElement("input");
        input.type = "text";
        input.value = mission.text;
        input.placeholder = `Ordem ${index + 1} deste m√™s`;

        checkbox.addEventListener("change", () => {
          mission.done = checkbox.checked;
          if (mission.done) {
            row.classList.add("done");
          } else {
            row.classList.remove("done");
          }
        });

        input.addEventListener("input", () => {
          mission.text = input.value;
        });

        row.appendChild(checkbox);
        row.appendChild(input);
        container.appendChild(row);
      });

      container.dataset.missions = JSON.stringify(missions);
    }

    function saveMissions() {
      const container = document.getElementById("missionsList");
      const raw = container.dataset.missions;
      let missions = defaultMissions();

      try {
        missions = JSON.parse(raw);
      } catch {}

      const rows = container.querySelectorAll(".mission-row");
      rows.forEach(row => {
        const idx = Number(row.dataset.index);
        const checkbox = row.querySelector('input[type="checkbox"]');
        const input = row.querySelector('input[type="text"]');
        missions[idx] = {
          text: input.value || "",
          done: checkbox.checked
        };
      });

      localStorage.setItem(STORAGE_KEYS.missions, JSON.stringify(missions));
      renderMissions();
      showFeedback("missionsFeedback", "Ordens registradas. A fam√≠lia sabe o que precisa fazer.");
    }

    function resetMissions() {
      localStorage.removeItem(STORAGE_KEYS.missions);
      renderMissions();
      showFeedback("missionsFeedback", "Ordens apagadas. Novo plano para o Don.");
    }

    document.addEventListener("DOMContentLoaded", () => {
      buildCheckpoints();
      updateFinanceUI();
      renderMissions();

      document.getElementById("saveFinance").addEventListener("click", saveFinance);
      document.getElementById("resetFinance").addEventListener("click", resetFinance);

      document.getElementById("saveMissions").addEventListener("click", saveMissions);
      document.getElementById("resetMissions").addEventListener("click", resetMissions);

      document.getElementById("currentIncome").addEventListener("change", saveFinance);
      document.getElementById("targetIncome").addEventListener("change", saveFinance);
    });
  </script>
</body>
</html>
